(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8665],{90348:(e,t,s)=>{Promise.resolve().then(s.bind(s,26736))},24309:(e,t,s)=>{"use strict";s.d(t,{a:()=>w});var r=s(95155),n=s(12115),i=s(10979),a=s(9561),l=s(70152),o=s(26603),u=s(1396),c=s(44522),d=s(96854),h=s(59620),x=s(87550),g=s(36645),j=s(92437),m=s(76046),f=s(57061),p=s(73365),v=s(39161),A=s(23686),y=s(79845),b=s(5565);let S={alignSelf:"center"},C={minHeight:"50px"},w=e=>{let{setAuthData:t}=(0,n.useContext)(v.c),[s,w]=(0,n.useState)(""),[T,I]=(0,n.useState)(""),[P,E]=(0,n.useState)(!1),[k,O]=(0,n.useState)(!1),[R,D]=(0,n.useState)(""),[F,J]=(0,n.useState)(""),[L,_]=(0,n.useState)(!1),[M,N]=(0,n.useState)(!1),[U,Y]=(0,n.useState)(!1),B=e.pathname||A.ts.Root,$=(0,m.useRouter)(),q=()=>{O(!1),E(!1)},z=()=>{q(),Y(!0),y.p$.CreateToken({email:s,otp:T}).then(e=>{let s=e.data,r={name:s.result.name,email:s.result.resource};(0,p.uj)(s.result),t(r),Y(!1),E(!0),D("Login successful."),s.result.roles.includes(f.YK.InvitedUser)?$.push("/profile"):$.push(B)}).catch(e=>{Y(!1),O(!0),403===e.response.status?J("Access denied. Please contact support."):400===e.response.status?J("Invalid email or otp."):404===e.response.status?J("User not found. Please Register first."):J("An unexpected error occurred. Please try again.")})};return(0,r.jsxs)(i.A,{direction:"column",alignItems:"center",justifyContent:"center",height:"80vh",children:[(0,r.jsx)(h._,{children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),z()},children:(0,r.jsxs)(i.A,{direction:"column",alignContent:"center",justifyContent:"center",spacing:2,margin:2,children:[(0,r.jsx)(b.default,{src:j.v.logo,alt:"Logo",width:100,height:100,style:S}),(0,r.jsx)(a.A,{variant:"h6",style:S,children:"Login to Portal"}),(0,r.jsx)(l.A,{id:"user-email",label:"Email",variant:"outlined",value:s,required:!0,onChange:e=>{q(),w(e.target.value),f.Dr.IsEmail(e.target.value)?_(!0):(_(!1),N(!1))},error:null!==s&&""!==s&&!f.Dr.IsEmail(s)}),(0,r.jsx)(l.A,{id:"otp",label:"OTP",variant:"outlined",value:T,required:!0,onChange:e=>{q(),I(e.target.value),6===e.target.value.length?N(!0):N(!1)},error:null!==T&&""!==T&&6!==T.length&&!f.Dr.IsNumber(T)}),(0,r.jsxs)(i.A,{direction:"row",justifyContent:"center",spacing:2,children:[(0,r.jsx)(o.A,{variant:"outlined",endIcon:(0,r.jsx)(g.A,{}),disabled:!L,onClick:()=>{q(),Y(!0),y.p$.CreateOtp({email:s}).then(()=>{Y(!1),E(!0),D("OTP sent successfully.")}).catch(e=>{Y(!1),O(!0),400===e.response.status?J("Invalid email."):403===e.response.status?J("Access denied. Please contact support."):404===e.response.status?J("User not found. Please Register first."):J("An unexpected error occurred. Please try again.")})},children:"Get OTP"}),(0,r.jsx)(o.A,{type:"submit",variant:"contained",endIcon:(0,r.jsx)(x.A,{}),disabled:!M,children:"Login"})]})]})})}),(0,r.jsxs)("div",{style:C,children:[k&&(0,r.jsx)(u.A,{severity:"error",children:F}),P&&(0,r.jsx)(u.A,{severity:"success",children:R}),!k&&!P&&(0,r.jsx)(u.A,{severity:"info",children:"Enter your credential to login."})]}),(0,r.jsx)(c.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:U,onClick:()=>{Y(!1)},children:(0,r.jsx)(d.A,{color:"inherit"})})]})}},26736:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(95155),n=s(66437),i=s(2014),a=s(23686),l=s(12115),o=s(59620),u=s(9561),c=s(26603),d=s(1396);let h=(0,s(12983).A)((0,r.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt");var x=s(57061),g=s(4753),j=s(76046),m=s(79845);let f=()=>{let[e,t]=l.useState(x.JT.NotStarted),[s,n]=l.useState(null),i=(0,j.useRouter)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o._,{children:[(0,r.jsx)(u.A,{variant:"h6",gutterBottom:!0,children:"Reset Authentication"}),(0,r.jsx)(u.A,{variant:"body2",children:"This option is to reset your authentication. After performing this action, you will be logged-out from all the devices. You will need to freshly login or freshly setup your offline OTP generation on Google Authenticator/ Microsoft Authenticator."}),(0,r.jsx)("br",{}),(0,r.jsx)(c.A,{variant:"contained",endIcon:(0,r.jsx)(h,{}),onClick:()=>{m.p$.ResetAuth().then(e=>{200===e.status&&(t(x.JT.Success),n(new Date),i.push("/expired"))}).catch(()=>{t(x.JT.Failure),n(null)})},children:"Reset"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)(d.A,{severity:"warning",children:"After RESET, You need to login again and setup authenticator again!"})]}),e===x.JT.Success&&(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsxs)(d.A,{severity:"success",children:["Successfully reset at ",(0,g.Ok)(s)]})]}),e===x.JT.Failure&&(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)(d.A,{severity:"error",children:"Something went wrong. Try again."})]})]})})},p=()=>(0,r.jsxs)(n.F,{children:[(0,r.jsx)(i.Y,{tabs:a.fM}),(0,r.jsx)(f,{})]})},2014:(e,t,s)=>{"use strict";s.d(t,{Y:()=>u});var r=s(95155),n=s(12115),i=s(68998),a=s(88648),l=s(79987),o=s(76046);let u=e=>{let{tabs:t}=e,[s,u]=n.useState(0),c=(0,o.useRouter)(),d=(0,o.usePathname)();n.useEffect(()=>{u(t.findIndex(e=>e.path===d))},[d]);let h=n.useCallback((e,s)=>{u(s),c.push(t[s].path.split("?")[0].split("#")[0])},[]),x=n.useMemo(()=>t.map((e,t)=>(0,r.jsx)(l.A,{label:e.label},t)),[t]);return(0,r.jsx)(i.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",marginBottom:1},children:(0,r.jsx)(a.A,{value:s,onChange:h,centered:!0,children:x})})}},66437:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});var r=s(95155),n=s(12115),i=s(76046),a=s(24309),l=s(42336);let o=e=>{let t=(0,l.A)(),[s,o]=n.useState(!1),u=(0,i.usePathname)();return(0,n.useEffect)(()=>{window.scrollTo(0,0),o(!0)},[u]),(0,r.jsx)(r.Fragment,{children:s&&(t?e.children:(0,r.jsx)(a.a,{pathname:u}))})}},42336:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,h:()=>o});var r=s(95155),n=s(12115),i=s(39161),a=s(4753),l=s(73365);let o=e=>{let{children:t}=e,[s,o]=(0,n.useState)({}),[u,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{c((0,l.AJ)())},[]),(0,n.useEffect)(()=>{(0,a.Jv)(s)||c(!0)},[s]),(0,n.useEffect)(()=>{u||o({})},[u]);let d=(0,n.useMemo)(()=>({isAuthenticated:u,setIsAuthenticated:c,authData:s,setAuthData:o}),[u,c,s,o]);return(0,r.jsx)(i.c.Provider,{value:d,children:t})},u=()=>{let{isAuthenticated:e}=(0,n.useContext)(i.c);return e}},4753:(e,t,s)=>{"use strict";s.d(t,{Jv:()=>r,Ok:()=>i,eR:()=>n});let r=e=>"object"!=typeof e||null===e||!(Object.keys(e).length>0),n=e=>{let t=new Date(e),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t),r=s.indexOf(",")+2;return"".concat(s.substring(0,r)," ").concat(s.substring(r).toLowerCase())},i=e=>{let t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(e),s=t.indexOf(",")+2;return"".concat(t.substring(0,s)," ").concat(t.substring(s).toLowerCase())}}},e=>{var t=t=>e(e.s=t);e.O(0,[4758,9427,6544,6402,2627,6165,5937,8441,1517,7358],()=>t(90348)),_N_E=e.O()}]);