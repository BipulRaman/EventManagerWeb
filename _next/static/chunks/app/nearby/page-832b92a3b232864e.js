(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9576],{40433:(e,t,s)=>{Promise.resolve().then(s.bind(s,51116))},24309:(e,t,s)=>{"use strict";s.d(t,{a:()=>T});var a=s(95155),n=s(12115),r=s(10979),i=s(9561),o=s(70152),l=s(26603),c=s(1396),d=s(44522),u=s(96854),h=s(59620),x=s(87550),p=s(36645),y=s(92437),m=s(76046),j=s(57061),S=s(73365),v=s(39161),g=s(23686),f=s(48173),b=s.n(f),A=s(79845),P=s(5565);let L={alignSelf:"center"},w={minHeight:"50px"},T=e=>{let{setAuthData:t}=(0,n.useContext)(v.c),[s,f]=(0,n.useState)(""),[T,C]=(0,n.useState)(""),[k,E]=(0,n.useState)(!1),[I,D]=(0,n.useState)(!1),[N,J]=(0,n.useState)(""),[F,O]=(0,n.useState)(""),[_,B]=(0,n.useState)(!1),[R,Y]=(0,n.useState)(!1),[G,U]=(0,n.useState)(!1),z=e.pathname||g.ts.Root,H=(0,m.useRouter)(),q=()=>{D(!1),E(!1)},V=()=>{q(),U(!0),A.p$.CreateToken({email:s,otp:T}).then(e=>{let s=e.data,a={name:s.result.name,email:s.result.resource};(0,S.uj)(s.result),t(a),U(!1),E(!0),J("Login successful."),s.result.roles.includes(j.YK.InvitedUser)?H.push("/profile"):H.push(z)}).catch(e=>{U(!1),D(!0),403===e.response.status?O("Access denied. Please contact support."):400===e.response.status?O("Invalid email or otp."):404===e.response.status?O("User not found. Please Register first."):O("An unexpected error occurred. Please try again.")})};return(0,a.jsxs)(r.A,{direction:"column",alignItems:"center",justifyContent:"center",height:"80vh",children:[(0,a.jsx)(h._,{children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),V()},children:(0,a.jsxs)(r.A,{direction:"column",alignContent:"center",justifyContent:"center",spacing:2,margin:2,children:[(0,a.jsx)(P.default,{src:y.v.logo,alt:"Logo",width:100,height:100,style:L}),(0,a.jsx)(i.A,{variant:"h6",style:L,children:"Login to Alumni Portal"}),(0,a.jsx)(o.A,{id:"user-email",label:"Email",variant:"outlined",value:s,required:!0,onChange:e=>{q(),f(e.target.value),j.Dr.IsEmail(e.target.value)?B(!0):(B(!1),Y(!1))},error:null!==s&&""!==s&&!j.Dr.IsEmail(s)}),(0,a.jsx)(o.A,{id:"otp",label:"OTP",variant:"outlined",value:T,required:!0,onChange:e=>{q(),C(e.target.value),6===e.target.value.length?Y(!0):Y(!1)},error:null!==T&&""!==T&&6!==T.length&&!j.Dr.IsNumber(T)}),(0,a.jsxs)(r.A,{direction:"row",justifyContent:"center",spacing:2,children:[(0,a.jsx)(l.A,{variant:"outlined",endIcon:(0,a.jsx)(p.A,{}),disabled:!_,onClick:()=>{q(),U(!0),A.p$.CreateOtp({email:s}).then(()=>{U(!1),E(!0),J("OTP sent successfully.")}).catch(e=>{U(!1),D(!0),400===e.response.status?O("Invalid email."):403===e.response.status?O("Access denied. Please contact support."):404===e.response.status?O("User not found. Please Register first."):O("An unexpected error occurred. Please try again.")})},children:"Get OTP"}),(0,a.jsx)(l.A,{type:"submit",variant:"contained",endIcon:(0,a.jsx)(x.A,{}),disabled:!R,children:"Login"})]}),(0,a.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:["First time here? ",(0,a.jsx)(b(),{href:g.ts.Register,children:"Register now"})]})]})})}),(0,a.jsxs)("div",{style:w,children:[I&&(0,a.jsx)(c.A,{severity:"error",children:F}),k&&(0,a.jsx)(c.A,{severity:"success",children:N}),!I&&!k&&(0,a.jsx)(c.A,{severity:"info",children:"Enter your credential to login."})]}),(0,a.jsx)(d.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:G,onClick:()=>{U(!1)},children:(0,a.jsx)(u.A,{color:"inherit"})})]})}},51116:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var a=s(95155),n=s(66437),r=s(23686),i=s(2014),o=s(12115),l=s(59620),c=s(30562),d=s(9561),u=s(41983),h=s(58546),x=s(60391),p=s(55520),y=s(43510),m=s(7345),j=s(37469),S=s(18312),v=s(46876),g=s(64667),f=s(57061);let b={fontSize:"1.3rem",fontWeight:"400"},A={fontSize:"1.2rem",fontWeight:"400",marginRight:"0.5rem"},P={display:"inline-flex",alignItems:"center"},L={display:"inline-flex",verticalAlign:"top",whiteSpace:"normal",wordWrap:"break-word"},w=e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l._,{children:[(0,a.jsxs)(u.Ay,{children:[(0,a.jsx)(h.A,{children:(0,a.jsx)(c.A,{children:(0,a.jsx)(p.A,{})})}),(0,a.jsx)(x.A,{primary:(0,a.jsx)("span",{style:b,children:e.name})})]}),(0,a.jsx)(u.Ay,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.A,{variant:"body2",color:"textSecondary",style:P,children:[e.profileType===f.E6.Alumni&&(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(y.A,{style:A}),e.profileType," | ","".concat(e.entryYear," - ").concat(e.exitYear," | Class ").concat(e.entryClass," - ").concat(e.exitClass)]}),e.profileType===f.E6.Student&&(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(y.A,{style:A}),e.profileType," | ","".concat(e.entryYear," - Present | Class ").concat(e.entryClass," - Onwards")]}),e.profileType===f.E6.Staff&&(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(y.A,{style:A}),e.profileType," | ","".concat(e.entryYear," - Present")]}),e.profileType===f.E6.ExStaff&&(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(y.A,{style:A}),e.profileType," | ","".concat(e.entryYear," - ").concat(e.exitYear)]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",style:P,children:(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(g.A,{style:A}),e.secondarySchoolNames?"".concat(e.primarySchoolName,", ").concat(e.secondarySchoolNames):e.primarySchoolName]})}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",style:P,children:(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(S.A,{style:A}),e.isContactInfoVisible?e.location:"Location is Hidden"]})}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",style:P,children:(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(j.A,{style:A}),e.isContactInfoVisible?e.phone:"Contact is Hidden"]})}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",style:P,children:(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(m.A,{style:A}),e.isHigherEducationInfoVisible?"".concat(e.degree," at ").concat(e.university):"Educational details are Hidden"]})}),(0,a.jsx)("br",{}),(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",style:P,children:(0,a.jsxs)("span",{style:L,children:[(0,a.jsx)(v.A,{style:A}),e.isEmploymentInfoVisible?"".concat(e.jobTitle," at ").concat(e.organization):"Employment details are Hidden"]})}),(0,a.jsx)("br",{})]})})]})});var T=s(2241),C=s(10979),k=s(23865),E=s(32651),I=s(97667),D=s(27312),N=s(78750),J=s(79845);let F=()=>{var e,t;let{profileState:s,nearbyProfileListState:n,setProfileState:r,setNearbyProfileListState:i}=(0,D.A)(),[c,u]=o.useState(5),[h,x]=o.useState(!1),[p,y]=o.useState({latitude:0,longitude:0});return o.useEffect(()=>{0!==s.data.latitude&&0!==s.data.longitude&&y({latitude:s.data.latitude,longitude:s.data.longitude})},[s.data.latitude,s.data.longitude]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l._,{children:[(0,a.jsx)(d.A,{variant:"h6",component:"h2",gutterBottom:!0,children:"Navodayans Nearby"}),(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Turn ON your GPS and allow location access to view navodayans nearby."}),(0,a.jsx)(T.A,{}),(0,a.jsxs)(C.A,{direction:"column",component:"div",spacing:2,margin:2,children:[(0,a.jsxs)(d.A,{variant:"body2",color:"textSecondary",component:"div",children:["Lat: ",null==p?void 0:null===(e=p.latitude)||void 0===e?void 0:e.toFixed(5),", Long: ",null==p?void 0:null===(t=p.longitude)||void 0===t?void 0:t.toFixed(5)]}),(0,a.jsx)(T.A,{}),(0,a.jsxs)(C.A,{direction:"row",spacing:2,margin:2,maxWidth:240,children:[(0,a.jsxs)(k.A,{id:"range-select",value:c,required:!0,onChange:e=>u(parseInt(e.target.value)),children:[(0,a.jsx)("option",{value:"1",children:"1 km"}),(0,a.jsx)("option",{value:"2",children:"2 km"}),(0,a.jsx)("option",{value:"3",children:"3 km"}),(0,a.jsx)("option",{value:"4",children:"4 km"}),(0,a.jsx)("option",{value:"5",children:"5 km"}),(0,a.jsx)("option",{value:"10",children:"10 km"}),(0,a.jsx)("option",{value:"15",children:"15 km"}),(0,a.jsx)("option",{value:"20",children:"20 km"}),(0,a.jsx)("option",{value:"25",children:"25 km"}),(0,a.jsx)("option",{value:"30",children:"30 km"}),(0,a.jsx)("option",{value:"35",children:"35 km"}),(0,a.jsx)("option",{value:"40",children:"40 km"}),(0,a.jsx)("option",{value:"45",children:"45 km"}),(0,a.jsx)("option",{value:"50",children:"50 km"}),(0,a.jsx)("option",{value:"500",children:"500 km"}),(0,a.jsx)("option",{value:"5000",children:"5000 km"}),(0,a.jsx)("option",{value:"10000",children:"10000 km"})]}),(0,a.jsx)(I.A,{loadingPosition:"start",loading:h,disabled:h,variant:"contained",onClick:()=>{x(!0),navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:a}=e.coords;y({latitude:t,longitude:a});let n=new Date(s.data.modifiedAt?s.data.modifiedAt:0);if(Math.ceil((new Date().getTime()-n.getTime())/6e4)>10||0===s.data.latitude||0===s.data.longitude)(0,N.o)(J.GX.UpdateProfileGeo(t,a),r).then(()=>{(0,N.o)(J.GX.GetProfileNearby(c),i),x(!1)});else{(0,N.o)(J.GX.GetProfileNearby(c),i),x(!1);return}},e=>{console.error("Error fetching geolocation:",e),x(!1)})},startIcon:(0,a.jsx)(E.A,{}),children:"Update"})]})]})]}),(()=>{switch(n.status){case f.JT.Success:{let e=n.data;if(0===e.length)return(0,a.jsx)(l._,{children:(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",children:"No businesses found in the area."})});return e.map((e,t)=>(0,a.jsx)(w,{...e},t))}case f.JT.NotStarted:return(0,a.jsx)(a.Fragment,{});case f.JT.InProgress:return(0,a.jsx)(l._,{children:(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",children:"Loading..."})});case f.JT.Failure:return(0,a.jsx)(l._,{children:(0,a.jsx)(d.A,{variant:"body2",color:"textSecondary",children:"Error loading data."})});default:return null}})()]})},O=()=>(0,a.jsxs)(n.F,{children:[(0,a.jsx)(i.Y,{tabs:r.qN}),(0,a.jsx)(F,{})]})},2014:(e,t,s)=>{"use strict";s.d(t,{Y:()=>c});var a=s(95155),n=s(12115),r=s(68998),i=s(88648),o=s(79987),l=s(76046);let c=e=>{let{tabs:t}=e,[s,c]=n.useState(0),d=(0,l.useRouter)(),u=(0,l.usePathname)();n.useEffect(()=>{c(t.findIndex(e=>e.path===u))},[u]);let h=n.useCallback((e,s)=>{c(s),d.push(t[s].path.split("?")[0].split("#")[0])},[]),x=n.useMemo(()=>t.map((e,t)=>(0,a.jsx)(o.A,{label:e.label},t)),[t]);return(0,a.jsx)(r.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",marginBottom:1},children:(0,a.jsx)(i.A,{value:s,onChange:h,centered:!0,children:x})})}},66437:(e,t,s)=>{"use strict";s.d(t,{F:()=>l});var a=s(95155),n=s(12115),r=s(76046),i=s(24309),o=s(42336);let l=e=>{let t=(0,o.A)(),[s,l]=n.useState(!1),c=(0,r.usePathname)();return(0,n.useEffect)(()=>{window.scrollTo(0,0),l(!0)},[c]),(0,a.jsx)(a.Fragment,{children:s&&(t?e.children:(0,a.jsx)(i.a,{pathname:c}))})}},27312:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,z:()=>l});var a=s(99827),n=s(57061);let r=e=>({data:e,status:n.JT.NotStarted,timestamp:new Date}),i=e=>({data:e,page:0,isLastPage:!1,status:n.JT.NotStarted,timestamp:new Date}),o=(0,a.v)()(e=>({otpSecretState:r(""),publicPostListState:i([]),privatePostListState:i([]),profileState:r({}),publicProfileState:r({}),nearbyProfileListState:r([]),businessState:r({}),businessStateList:r([]),nearbyBusinessListState:r([]),nearbyDoctorsListState:r([]),setOtpSecretState:t=>e(()=>({otpSecretState:t})),setPublicPostListState:t=>e(()=>({publicPostListState:t})),setPrivatePostListState:t=>e(()=>({privatePostListState:t})),setProfileState:t=>e(()=>({profileState:t})),setPublicProfileState:t=>e(()=>({publicProfileState:t})),setNearbyProfileListState:t=>e(()=>({nearbyProfileListState:t})),setBusinessState:t=>e(()=>({businessState:t})),setBusinessStateList:t=>e(()=>({businessStateList:t})),setNearbyBusinessListState:t=>e(()=>({nearbyBusinessListState:t})),setNearbyDoctorsListState:t=>e(()=>({nearbyDoctorsListState:t}))})),l=()=>{o.setState(()=>({otpSecretState:r(""),publicPostListState:i([]),privatePostListState:i([]),profileState:r({}),publicProfileState:r({}),nearbyProfileListState:r([]),businessState:r({}),businessStateList:r([]),nearbyBusinessListState:r([]),nearbyDoctorsListState:r([])}))},c=o},42336:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,h:()=>l});var a=s(95155),n=s(12115),r=s(39161),i=s(4753),o=s(73365);let l=e=>{let{children:t}=e,[s,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{d((0,o.AJ)())},[]),(0,n.useEffect)(()=>{(0,i.Jv)(s)||d(!0)},[s]),(0,n.useEffect)(()=>{c||l({})},[c]);let u=(0,n.useMemo)(()=>({isAuthenticated:c,setIsAuthenticated:d,authData:s,setAuthData:l}),[c,d,s,l]);return(0,a.jsx)(r.c.Provider,{value:u,children:t})},c=()=>{let{isAuthenticated:e}=(0,n.useContext)(r.c);return e}},4753:(e,t,s)=>{"use strict";s.d(t,{Jv:()=>a,Ok:()=>r,eR:()=>n});let a=e=>"object"!=typeof e||null===e||!(Object.keys(e).length>0),n=e=>{let t=new Date(e),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(t),a=s.indexOf(",")+2;return"".concat(s.substring(0,a)," ").concat(s.substring(a).toLowerCase())},r=e=>{let t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(e),s=t.indexOf(",")+2;return"".concat(t.substring(0,s)," ").concat(t.substring(s).toLowerCase())}},78750:(e,t,s)=>{"use strict";s.d(t,{m:()=>r,o:()=>n});var a=s(57061);let n=async(e,t)=>{t({data:{},status:a.JT.InProgress,timestamp:new Date});try{let s=(await e).data;t({data:s.result,status:a.JT.Success,timestamp:new Date})}catch(e){t({data:{},status:a.JT.Failure,timestamp:new Date})}},r=async(e,t)=>{t({data:{},status:a.JT.InProgress,timestamp:new Date});try{let s=(await e).data;t({data:s.result,status:a.JT.Success,timestamp:new Date})}catch(e){t({data:{},status:a.JT.Failure,timestamp:new Date})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[4758,9427,4973,5565,6594,8173,6165,2824,4833,7567,5937,8441,1517,7358],()=>t(40433)),_N_E=e.O()}]);