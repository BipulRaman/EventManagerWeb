(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2454],{63131:(e,t,r)=>{Promise.resolve().then(r.bind(r,87069))},87069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U});var s=r(95155),n=r(34039),a=r(12115),i=r(10979),l=r(70152),o=r(22678),c=r(43038),d=r(18191),u=r(91888),h=r(49234),y=r(2241),x=r(60615),p=r(83726),f=r(24162),g=r(26603),A=r(1396),j=r(44522),m=r(96854),b=r(9561),v=r(4918),P=r(41983),I=r(60391),S=r(58546),C=r(30562),E=r(59620),T=r(65620),G=r(46876),w=r(7345),B=r(23176),V=r(57061),N=r(13878),D=r(78750),k=r(79845);let Y={width:150},J=()=>{var e,t;let r="[Visible to you only]",n="[Visible to all members]",[J,q]=a.useState({name:"",email:"",gender:V.YT.Male,isContactInfoVisible:!1,phone:"",location:"",latitude:0,longitude:0,profileType:V.E6.Alumni,entryYear:0,entryClass:0,exitYear:0,exitClass:0,primarySchoolId:0,secondarySchoolIds:[],isHigherEducationInfoVisible:!1,isStudying:!1,university:"",degree:"",isEmploymentInfoVisible:!1,isWorking:!1,organization:"",jobTitle:""}),[U,F]=a.useState(!1),[O,z]=a.useState(!1),[_,W]=a.useState(!1),[R,L]=a.useState([]),[H,$]=a.useState({}),[M,Z]=a.useState(),X=e=>{let t=R.filter(t=>t.UniqueId!==e.UniqueId);L(t);let r=t.map(e=>e.UniqueId);q({...J,secondarySchoolIds:r}),Q()},K=e=>{if(!R.find(t=>t.UniqueId===e.UniqueId)){let t=[...R,e];L(t);let r=t.map(e=>e.UniqueId);q({...J,secondarySchoolIds:r})}Q()};a.useEffect(()=>{let e=()=>Z(window.innerWidth<=768);return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);let Q=()=>{let e=V.Dr.IsText(J.name||"")&&V.Dr.IsEmail(J.email||"")&&V.Dr.IsPhone(J.phone||"")&&V.Dr.IsText(J.location||"")&&V.Dr.IsText(J.university||"")&&V.Dr.IsText(J.degree||""),t=e&&J.entryClass>0&&J.entryYear>0&&J.exitClass>J.entryClass&&J.exitYear>J.entryYear,r=e&&J.entryClass>0&&J.entryYear>0&&0===J.exitClass&&0===J.exitYear,s=e&&V.Dr.IsText(J.organization||"")&&V.Dr.IsText(J.jobTitle||"");return J.profileType===V.E6.Student?(F(r),r):J.profileType===V.E6.Staff?(F(s),s):J.profileType===V.E6.Alumni?(F(t),t):(F(e),e)},ee=e=>{e.target.value===V.E6.Student?q({...J,profileType:e.target.value,isStudying:!0,isWorking:!1,exitClass:0,exitYear:0,university:"",degree:"",organization:"",jobTitle:""}):e.target.value===V.E6.Staff?q({...J,profileType:e.target.value,isStudying:!1,isWorking:!0,exitClass:0,exitYear:0,organization:"Navodaya Vidyala Samiti"}):q({...J,profileType:e.target.value})};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(E._,{style:{width:M?"auto":"700px",display:"flex",justifyContent:"center"},children:_?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(b.A,{component:"h4",children:["Congratulations ",H.data.name," \uD83C\uDF89, your profile has been created!"]}),(0,s.jsxs)(b.A,{component:"h5",children:["Please ",(0,s.jsx)("a",{href:"/login",children:"login"})," to continue."]})]}):(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),z(!0),Q()&&(0,D.m)(k.GX.CreateProfile(J),$).finally(()=>W(!0))},onChange:()=>{z(!0),Q()},children:(0,s.jsxs)(v.A,{children:[(0,s.jsxs)(P.Ay,{children:[(0,s.jsx)(S.A,{children:(0,s.jsx)(C.A,{children:(0,s.jsx)(B.A,{})})}),(0,s.jsx)(I.A,{primary:"Navodaya Info",secondary:n})]}),(0,s.jsxs)(i.A,{direction:"column",spacing:2,margin:2,maxWidth:400,children:[(0,s.jsx)(l.A,{label:"Name",required:!0,onChange:e=>q({...J,name:e.target.value}),error:O&&!!J.name&&J.name.length<3,value:J.name}),(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"gender",children:"Gender"}),(0,s.jsxs)(d.A,{labelId:"gender",id:"gender-select",value:J.gender,label:"Gender",required:!0,onChange:e=>{q({...J,gender:e.target.value}),Q()},children:[(0,s.jsx)(u.A,{selected:!0,disabled:!0,value:"",children:"Select"}),Object.values(V.YT).map(e=>(0,s.jsx)(u.A,{value:e,children:e},e))]})]}),(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"profileType",children:"Profile Type"}),(0,s.jsxs)(d.A,{labelId:"profileType",id:"profileType-select",value:J.profileType,label:"Profile type",required:!0,onChange:e=>{ee(e),Q()},children:[(0,s.jsx)(u.A,{disabled:!0,value:"",children:"Select"}),(0,s.jsx)(u.A,{value:V.E6.Alumni,children:"JNV Alumni"},V.E6.Alumni),(0,s.jsx)(u.A,{value:V.E6.Student,children:"Current JNV Student"},V.E6.Student),(0,s.jsx)(u.A,{value:V.E6.ExStaff,children:"Former JNV Staff"},V.E6.ExStaff),(0,s.jsx)(u.A,{value:V.E6.Staff,children:"Current JNV Staff"},V.E6.Staff)]})]}),(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"entryJNV",children:"Entry JNV"}),(0,s.jsxs)(d.A,{labelId:"entryJNV",id:"entryJNV-select",value:J.primarySchoolId.toString(),defaultValue:"",label:"Entry JNV",required:!0,onChange:e=>{q({...J,primarySchoolId:parseInt(e.target.value)}),Q()},children:[(0,s.jsx)(u.A,{disabled:!0,value:"0",children:"Select"}),N._.map(e=>(0,s.jsxs)(u.A,{value:e.UniqueId.toString(),children:["[",e.StatePrefix,"] JNV ",e.SchoolName]},e.UniqueId))]})]}),(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"otherJNVs",children:"Other JNV"}),(0,s.jsxs)(d.A,{labelId:"otherJNVs",id:"otherJNVs-select",label:"Other JNVs",value:"Add other JNVs attended",onChange:e=>{K(N._.find(t=>t.UniqueId===parseInt(e.target.value))),Q()},children:[(0,s.jsx)(u.A,{disabled:!0,value:"Add other JNVs attended",children:"Add other JNVs attended"}),N._.filter(e=>!R.find(t=>t.UniqueId===e.UniqueId)).map(e=>(0,s.jsxs)(u.A,{value:e.UniqueId,children:["[",e.StatePrefix,"] JNV ",e.SchoolName]},e.UniqueId))]})]}),(0,s.jsx)(i.A,{sx:{display:"flex",justifyContent:"left",flexWrap:"wrap"},children:R.map(e=>(0,s.jsx)(P.Ay,{children:(0,s.jsx)(h.A,{label:"".concat(e.StatePrefix," - ").concat(e.SchoolName),onDelete:()=>X(e)})},e.UniqueId))}),(J.profileType===V.E6.Student||J.profileType===V.E6.Alumni)&&(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"entryClass",children:"Entry class"}),(0,s.jsxs)(d.A,{labelId:"entryClass",id:"entryClass-select",value:J.entryClass.toString(),label:"Entry class",required:!0,error:O&&J.profileType!==V.E6.Student&&J.exitClass<=J.entryClass,onChange:e=>{q({...J,entryClass:parseInt(e.target.value)}),Q()},children:[(0,s.jsx)(u.A,{disabled:!0,value:"0",children:"Select"}),Array.from(Array(7).keys()).map(e=>e+6).map(e=>(0,s.jsx)(u.A,{value:e,children:e},e))]})]}),J.profileType===V.E6.Alumni&&(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"exitClass",children:"Exit class"}),(0,s.jsxs)(d.A,{labelId:"exitClass",id:"exitClass-select",value:J.exitClass.toString(),label:"Exit class",required:!0,error:O&&J.profileType===V.E6.Alumni&&J.exitClass<=J.entryClass,onChange:e=>{q({...J,exitClass:parseInt(e.target.value)}),Q()},children:[(0,s.jsx)(u.A,{selected:!0,disabled:!0,value:"0",children:"Select"}),Array.from(Array(7).keys()).map(e=>e+6).map(e=>(0,s.jsx)(u.A,{value:e,children:e},e))]})]}),(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"entryYear",children:"Entry year"}),(0,s.jsxs)(d.A,{labelId:"entryYear",id:"entryYear-select",value:null===(e=J.entryYear)||void 0===e?void 0:e.toString(),label:"Entry year",required:!0,error:O&&J.profileType!==V.E6.Student&&J.profileType!==V.E6.Staff&&J.exitYear<=J.entryYear,onChange:e=>{q({...J,entryYear:parseInt(e.target.value)}),Q()},children:[(0,s.jsx)(u.A,{selected:!0,disabled:!0,value:"0",children:"Select"}),Array.from(Array(new Date().getFullYear()-1985+1).keys()).map(e=>e+1985).map(e=>(0,s.jsx)(u.A,{value:e,children:e},e))]})]}),J.profileType!==V.E6.Student&&J.profileType!==V.E6.Staff&&(0,s.jsxs)(o.A,{children:[(0,s.jsx)(c.A,{id:"exitYear",children:"Exit year"}),(0,s.jsxs)(d.A,{labelId:"exitYear",id:"exitYear-select",value:null===(t=J.exitYear)||void 0===t?void 0:t.toString(),label:"Exit year",error:O&&!!J.entryYear&&J.exitYear<=J.entryYear,required:!0,onChange:e=>{q({...J,exitYear:parseInt(e.target.value)}),Q()},children:[(0,s.jsx)(u.A,{selected:!0,disabled:!0,value:"0",children:"Select"}),Array.from(Array(new Date().getFullYear()-1985+1).keys()).map(e=>e+1985).map(e=>(0,s.jsx)(u.A,{value:e,children:e},e))]})]})]}),(0,s.jsx)(y.A,{}),(0,s.jsxs)(P.Ay,{children:[(0,s.jsx)(S.A,{children:(0,s.jsx)(C.A,{children:(0,s.jsx)(T.A,{})})}),(0,s.jsx)(I.A,{primary:"Contact Info",secondary:J.isContactInfoVisible?n:r})]}),(0,s.jsxs)(i.A,{direction:"column",spacing:2,margin:2,maxWidth:400,children:[(0,s.jsx)(x.A,{control:(0,s.jsx)(p.A,{checked:J.isContactInfoVisible,onChange:e=>{q({...J,isContactInfoVisible:e.target.checked}),Q()}}),label:"Visible to members"}),(0,s.jsx)(l.A,{label:"Email",onChange:e=>{q({...J,email:e.target.value}),Q()},error:O&&!V.Dr.IsEmail(J.email),value:J.email}),(0,s.jsx)(l.A,{label:"Phone",onChange:e=>{q({...J,phone:e.target.value}),Q()},error:O&&!V.Dr.IsPhone(J.phone),value:J.phone||""}),(0,s.jsx)(l.A,{label:"Location",onChange:e=>{q({...J,location:e.target.value}),Q()},error:O&&!V.Dr.IsText(J.location),value:J.location||""})]}),J.profileType&&J.profileType!==V.E6.Student&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{}),(0,s.jsxs)(P.Ay,{children:[(0,s.jsx)(S.A,{children:(0,s.jsx)(C.A,{children:(0,s.jsx)(w.A,{})})}),(0,s.jsx)(I.A,{primary:"Highest Educational Info",secondary:J.isHigherEducationInfoVisible?n:r})]}),(0,s.jsxs)(i.A,{direction:"column",spacing:2,margin:2,maxWidth:400,children:[(0,s.jsxs)(f.A,{children:[(0,s.jsx)(x.A,{control:(0,s.jsx)(p.A,{checked:J.isHigherEducationInfoVisible,onChange:e=>{q({...J,isHigherEducationInfoVisible:e.target.checked}),Q()}}),label:"Visible to members"}),(0,s.jsx)(x.A,{control:(0,s.jsx)(p.A,{checked:J.isStudying,onChange:e=>{q({...J,isStudying:e.target.checked}),Q()}}),label:"Currently studying"})]}),(0,s.jsx)(l.A,{label:"University/College/School",onChange:e=>{q({...J,university:e.target.value}),Q()},error:O&&!V.Dr.IsText(J.university),value:J.university}),(0,s.jsx)(l.A,{label:"Degree/Level",onChange:e=>{q({...J,degree:e.target.value}),Q()},error:O&&!V.Dr.IsText(J.degree),value:J.degree})]})]}),J.profileType&&J.profileType!==V.E6.Student&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{}),(0,s.jsxs)(P.Ay,{children:[(0,s.jsx)(S.A,{children:(0,s.jsx)(C.A,{children:(0,s.jsx)(G.A,{})})}),(0,s.jsx)(I.A,{primary:"Latest Employment Info",secondary:J.isEmploymentInfoVisible?n:r})]}),(0,s.jsxs)(i.A,{direction:"column",spacing:2,margin:2,maxWidth:400,children:[(0,s.jsxs)(f.A,{children:[(0,s.jsx)(x.A,{control:(0,s.jsx)(p.A,{checked:J.isEmploymentInfoVisible,onChange:e=>{q({...J,isEmploymentInfoVisible:e.target.checked})}}),label:"Visible to members"}),(0,s.jsx)(x.A,{control:(0,s.jsx)(p.A,{checked:J.isWorking,onChange:e=>{q({...J,isWorking:e.target.checked})}}),label:"Currently working"})]}),(0,s.jsx)(l.A,{label:"Organization",onChange:e=>q({...J,organization:e.target.value}),error:O&&J.isWorking&&!V.Dr.IsText(J.organization),value:J.organization}),(0,s.jsx)(l.A,{label:"Job Title",onChange:e=>q({...J,jobTitle:e.target.value}),error:O&&J.isWorking&&!V.Dr.IsText(J.jobTitle),value:J.jobTitle})]})]}),(0,s.jsx)(y.A,{}),(0,s.jsxs)(i.A,{direction:"column",spacing:2,margin:2,maxWidth:400,children:[(0,s.jsx)(g.A,{style:Y,disabled:!U,variant:"contained",type:"submit",children:"Submit"}),H.status===V.JT.Success&&_&&(0,s.jsx)(A.A,{severity:"success",children:"Successfully updated."}),!_&&(0,s.jsx)(A.A,{severity:"info",children:"Please crosscheck your email before you submit."}),H.status===V.JT.Failure&&_&&(0,s.jsx)(A.A,{severity:"error",children:"Something went wrong. Try again."}),(0,s.jsx)(j.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:H.status===V.JT.InProgress,children:(0,s.jsx)(m.A,{color:"inherit"})})]})]})})})})},q=()=>(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsx)(J,{})}),U=()=>(0,s.jsx)(n.f,{children:(0,s.jsx)(q,{})})},59620:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var s=r(95155);r(12115);var n=r(78562);let a={padding:15,marginBottom:15},i=e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.A,{component:"div",elevation:3,style:a,children:(0,s.jsx)("div",{style:e.style,children:e.children})})})},34039:(e,t,r)=>{"use strict";r.d(t,{f:()=>i});var s=r(95155),n=r(12115),a=r(76046);let i=e=>{let t=(0,a.usePathname)();return n.useEffect(()=>{window.scrollTo(0,0)},[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{paddingTop:"15px",width:"100%"},children:e.children})})}},79845:(e,t,r)=>{"use strict";r.d(t,{p$:()=>f,n9:()=>p,Jf:()=>A,GX:()=>g});let s={retry:5,firstRetryAt:200},n="https://alumnievent.azurewebsites.net",a={PostAuthOtp:()=>"".concat(n,"/auth/otp"),PostAuthToken:()=>"".concat(n,"/auth/token"),GetAuthReset:()=>"".concat(n,"/auth/reset"),GetAuthOtpSecret:()=>"".concat(n,"/auth/otpsecret")},i={GetProfile:()=>"".concat(n,"/profile"),GetProfileById:e=>"".concat(n,"/profile/").concat(e),PostProfile:()=>"".concat(n,"/profile"),PatchProfile:()=>"".concat(n,"/profile"),PostProfilePhoto:()=>"".concat(n,"/profile/photo"),GetProfileNearby:e=>"".concat(n,"/profile/nearby/").concat(e),PatchProfileGeo:(e,t)=>"".concat(n,"/profile/geo/").concat(e,"/").concat(t)},l={GetBusinesses:()=>"".concat(n,"/business"),GetBusinessesByPincode:e=>"".concat(n,"/business/nearby/").concat(e),GetBusinessByPinCodeCategory:(e,t)=>"".concat(n,"/business/nearby/").concat(e,"/").concat(t),GetBusinessById:e=>"".concat(n,"/business/").concat(e),PostBusiness:()=>"".concat(n,"/business"),PatchBusiness:()=>"".concat(n,"/business"),DeleteBusiness:e=>"".concat(n,"/business/").concat(e)},o={GetPublicPosts:e=>"".concat(n,"/post/public/20/").concat(e),GetPosts:e=>"".concat(n,"/post/20/").concat(e),GetPostById:e=>"".concat(n,"/post/").concat(e),PostPost:()=>"".concat(n,"/post"),PatchPost:()=>"".concat(n,"/post"),DeletePost:e=>"".concat(n,"/post/").concat(e)};var c=r(82651),d=r(73365);let u=c.A.create({headers:{"Content-Type":"application/json"}}),h=e=>{let t=s.retry-e;return s.firstRetryAt*2**t};u.interceptors.request.use(async e=>{try{let t=(0,d.qb)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}catch(t){if(t instanceof Error)throw e}return Promise.reject(Error)}),u.interceptors.response.use(e=>e,async e=>{let{config:t,response:{status:r}}=e;return(401===r&&(window.location.href="/expired"),(null==t?void 0:t.retry)&&!(r<500))?(t.retry-=1,await new Promise(e=>{setTimeout(()=>{e()},h(t.retry))}),u(t)):Promise.reject(e)});var y=function(e){return e.GET="get",e.POST="post",e.POST_FORM="post_form",e.PATCH="patch",e.DELETE="delete",e}(y||{});let x=async(e,t,r)=>{switch(e){case"get":return await u.get(t);case"post":return await u.post(t,r);case"post_form":return await u.post(t,r,{headers:{"Content-Type":"multipart/form-data","Content-Length":"Infinity"}});case"patch":return await u.patch(t,r);case"delete":return await u.delete(t);default:throw Error("Unsupported method: ".concat(e))}},p={GetMyBusinessList:async()=>x("get",l.GetBusinesses()),GetBusinessListByPinCode:async e=>x("get",l.GetBusinessesByPincode(e)),GetBusinessListByPinCodeCategory:async(e,t)=>x("get",l.GetBusinessByPinCodeCategory(e,t)),GetBusinessById:async e=>x("get",l.GetBusinessById(e)),CreateBusiness:async e=>x("post",l.PostBusiness(),e),UpdateBusiness:async e=>x("patch",l.PatchBusiness(),e),DeleteBusiness:async e=>x("delete",l.DeleteBusiness(e))},f={CreateToken:async e=>x("post",a.PostAuthToken(),e),CreateOtp:async e=>x("post",a.PostAuthOtp(),e),ResetAuth:async()=>x("get",a.GetAuthReset()),GetOtpSecret:async()=>x("get",a.GetAuthOtpSecret())},g={GetProfile:async()=>x("get",i.GetProfile()),GetProfileById:async e=>x("get",i.GetProfileById(e)),CreateProfile:async e=>x("post",i.PostProfile(),e),UpdateProfile:async e=>x("patch",i.PatchProfile(),e),UpdateProfilePhoto:async e=>x("post_form",i.PostProfilePhoto(),e),UpdateProfileGeo:async(e,t)=>x("patch",i.PatchProfileGeo(e,t)),GetProfileNearby:async e=>x("get",i.GetProfileNearby(e))},A={GetPublicPosts:async e=>x("get",o.GetPublicPosts(e)),GetPosts:async e=>x("get",o.GetPosts(e)),GetPostById:async e=>x("get",o.GetPostById(e)),CreatePost:async e=>x("post",o.PostPost(),e),UpdatePost:async e=>x("patch",o.PatchPost(),e),DeletePost:async e=>x("delete",o.DeletePost(e))}},57061:(e,t,r)=>{"use strict";r.d(t,{Dr:()=>l,E6:()=>n,JT:()=>a,YK:()=>s,YT:()=>i});var s=function(e){return e.SuperAdmin="SuperAdmin",e.Admin="Admin",e.User="User",e.InvitedUser="InvitedUser",e.Creator="Creator",e}({}),n=function(e){return e.Alumni="Alumni",e.Student="Student",e.Staff="Staff",e.ExStaff="ExStaff",e}({}),a=function(e){return e.NotStarted="NotStarted",e.InProgress="InProgress",e.Success="Success",e.Failure="Failure",e}({}),i=function(e){return e.Male="Male",e.Female="Female",e.Other="Other",e}({});let l={IsText:e=>null!=e&&""!==e,IsNumber:e=>new RegExp(/^[0-9]+$/).test(e),IsEmail:e=>new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/).test(e),IsPhone:e=>new RegExp(/^[+]?[0-9]{10,13}$/).test(e),IsWebsite:e=>new RegExp(/^(http|https):\/\/[^ "]+$/).test(e),IsGuid:e=>new RegExp(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(e)}},73365:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>o,Xb:()=>c,ZG:()=>a,qb:()=>l,uj:()=>n,uy:()=>d});let s="undefined"!=typeof localStorage,n=e=>{s&&localStorage.setItem("authData",JSON.stringify(e))},a=()=>{s&&localStorage.removeItem("authData")},i=()=>{if(s){var e;return JSON.parse(null!==(e=localStorage.getItem("authData"))&&void 0!==e?e:"{}")}return{}},l=()=>{let e=i();return e?e.accessToken:""},o=()=>{let e=i();if(!e)return!1;{let t=Date.now()/1e3;return!!e.expiresOn&&e.expiresOn>t||(s&&delete localStorage.authData,!1)}},c=()=>{let e=i();return e?e.roles:[]},d=()=>{let e=i();return e?e.resource:""}}},e=>{var t=t=>e(e.s=t);e.O(0,[4758,9427,4973,6594,2824,4833,5599,5180,7137,8441,1517,7358],()=>t(63131)),_N_E=e.O()}]);