(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2098],{91637:(e,t,s)=>{Promise.resolve().then(s.bind(s,20037))},87550:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(12983),n=s(95155);let a=(0,r.A)((0,n.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen")},36645:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(12983),n=s(95155);let a=(0,r.A)((0,n.jsx)("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"}),"Numbers")},20037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(95155),n=s(66437),a=s(23686),i=s(2014);let l=()=>(0,r.jsx)(n.F,{children:(0,r.jsx)(i.Y,{tabs:a.Sk})})},24309:(e,t,s)=>{"use strict";s.d(t,{a:()=>P});var r=s(95155),n=s(12115),a=s(10979),i=s(9561),l=s(70152),o=s(26603),u=s(1396),c=s(44522),d=s(96854),h=s(59620),m=s(87550),x=s(36645),g=s(92437),p=s(76046),v=s(57061),f=s(73365),j=s(39161),A=s(23686),b=s(48173),y=s.n(b),S=s(79845),C=s(5565);let w={alignSelf:"center"},I={minHeight:"50px"},P=e=>{let{setAuthData:t}=(0,n.useContext)(j.c),[s,b]=(0,n.useState)(""),[P,k]=(0,n.useState)(""),[E,O]=(0,n.useState)(!1),[L,R]=(0,n.useState)(!1),[D,T]=(0,n.useState)(""),[_,F]=(0,n.useState)(""),[z,N]=(0,n.useState)(!1),[U,H]=(0,n.useState)(!1),[J,M]=(0,n.useState)(!1),V=e.pathname||A.ts.Root,Y=(0,p.useRouter)(),q=()=>{R(!1),O(!1)},B=()=>{q(),M(!0),S.p$.CreateToken({email:s,otp:P}).then(e=>{let s=e.data,r={name:s.result.name,email:s.result.resource};(0,f.uj)(s.result),t(r),M(!1),O(!0),T("Login successful."),s.result.roles.includes(v.YK.InvitedUser)?Y.push("/profile"):Y.push(V)}).catch(e=>{M(!1),R(!0),403===e.response.status?F("Access denied. Please contact support."):400===e.response.status?F("Invalid email or otp."):404===e.response.status?F("User not found. Please Register first."):F("An unexpected error occurred. Please try again.")})};return(0,r.jsxs)(a.A,{direction:"column",alignItems:"center",justifyContent:"center",height:"80vh",children:[(0,r.jsx)(h._,{children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),B()},children:(0,r.jsxs)(a.A,{direction:"column",alignContent:"center",justifyContent:"center",spacing:2,margin:2,children:[(0,r.jsx)(C.default,{src:g.v.logo,alt:"Logo",width:100,height:100,style:w}),(0,r.jsx)(i.A,{variant:"h6",style:w,children:"Login to Portal"}),(0,r.jsx)(l.A,{id:"user-email",label:"Email",variant:"outlined",value:s,required:!0,onChange:e=>{q(),b(e.target.value),v.Dr.IsEmail(e.target.value)?N(!0):(N(!1),H(!1))},error:null!==s&&""!==s&&!v.Dr.IsEmail(s)}),(0,r.jsx)(l.A,{id:"otp",label:"OTP",variant:"outlined",value:P,required:!0,onChange:e=>{q(),k(e.target.value),6===e.target.value.length?H(!0):H(!1)},error:null!==P&&""!==P&&6!==P.length&&!v.Dr.IsNumber(P)}),(0,r.jsxs)(a.A,{direction:"row",justifyContent:"center",spacing:2,children:[(0,r.jsx)(o.A,{variant:"outlined",endIcon:(0,r.jsx)(x.A,{}),disabled:!z,onClick:()=>{q(),M(!0),S.p$.CreateOtp({email:s}).then(()=>{M(!1),O(!0),T("OTP sent successfully.")}).catch(e=>{M(!1),R(!0),400===e.response.status?F("Invalid email."):403===e.response.status?F("Access denied. Please contact support."):404===e.response.status?F("User not found. Please Register first."):F("An unexpected error occurred. Please try again.")})},children:"Get OTP"}),(0,r.jsx)(o.A,{type:"submit",variant:"contained",endIcon:(0,r.jsx)(m.A,{}),disabled:!U,children:"Login"})]}),(0,r.jsxs)(i.A,{variant:"body2",color:"textSecondary",children:["First time here? ",(0,r.jsx)(y(),{href:A.ts.Register,children:"Register now"})]})]})})}),(0,r.jsxs)("div",{style:I,children:[L&&(0,r.jsx)(u.A,{severity:"error",children:_}),E&&(0,r.jsx)(u.A,{severity:"success",children:D}),!L&&!E&&(0,r.jsx)(u.A,{severity:"info",children:"Enter your credential to login."})]}),(0,r.jsx)(c.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:J,onClick:()=>{M(!1)},children:(0,r.jsx)(d.A,{color:"inherit"})})]})}},2014:(e,t,s)=>{"use strict";s.d(t,{Y:()=>u});var r=s(95155),n=s(12115),a=s(68998),i=s(88648),l=s(79987),o=s(76046);let u=e=>{let{tabs:t}=e,[s,u]=n.useState(0),c=(0,o.useRouter)(),d=(0,o.usePathname)();n.useEffect(()=>{u(t.findIndex(e=>e.path===d))},[d]);let h=n.useCallback((e,s)=>{u(s),c.push(t[s].path.split("?")[0].split("#")[0])},[]),m=n.useMemo(()=>t.map((e,t)=>(0,r.jsx)(l.A,{label:e.label},t)),[t]);return(0,r.jsx)(a.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",marginBottom:1},children:(0,r.jsx)(i.A,{value:s,onChange:h,centered:!0,children:m})})}},66437:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});var r=s(95155),n=s(12115),a=s(76046),i=s(24309),l=s(42336);let o=e=>{let t=(0,l.A)(),[s,o]=n.useState(!1),u=(0,a.usePathname)();return(0,n.useEffect)(()=>{window.scrollTo(0,0),o(!0)},[u]),(0,r.jsx)(r.Fragment,{children:s&&(t?e.children:(0,r.jsx)(i.a,{pathname:u}))})}},42336:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,h:()=>o});var r=s(95155),n=s(12115),a=s(39161),i=s(4753),l=s(73365);let o=e=>{let{children:t}=e,[s,o]=(0,n.useState)({}),[u,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{c((0,l.AJ)())},[]),(0,n.useEffect)(()=>{(0,i.Jv)(s)||c(!0)},[s]),(0,n.useEffect)(()=>{u||o({})},[u]);let d=(0,n.useMemo)(()=>({isAuthenticated:u,setIsAuthenticated:c,authData:s,setAuthData:o}),[u,c,s,o]);return(0,r.jsx)(a.c.Provider,{value:d,children:t})},u=()=>{let{isAuthenticated:e}=(0,n.useContext)(a.c);return e}},4753:(e,t,s)=>{"use strict";s.d(t,{Jv:()=>r,Ok:()=>a,eR:()=>n});let r=e=>"object"!=typeof e||null===e||!(Object.keys(e).length>0),n=e=>{let t=new Date(e),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(t),r=s.indexOf(",")+2;return"".concat(s.substring(0,r)," ").concat(s.substring(r).toLowerCase())},a=e=>{let t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(e),s=t.indexOf(",")+2;return"".concat(t.substring(0,s)," ").concat(t.substring(s).toLowerCase())}}},e=>{var t=t=>e(e.s=t);e.O(0,[4758,9427,4973,5565,6594,8173,6165,5937,8441,1517,7358],()=>t(91637)),_N_E=e.O()}]);