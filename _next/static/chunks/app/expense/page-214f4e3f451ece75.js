(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5757],{85560:(e,t,s)=>{Promise.resolve().then(s.bind(s,61856))},61856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var a=s(95155),r=s(66437),n=s(23686),i=s(2014),l=s(12115),c=s(27312),u=s(57061),o=s(79845),d=s(78750),h=s(18238),m=s(22678),x=s(43038),p=s(18191),S=s(91888),g=s(894),j=s(12406),v=s(78562),f=s(47335),b=s(27315),y=s(18786),A=s(48983),P=s(2432),L=s(4753),w=s(67339);let T={fontSize:"0.7rem",color:"gray"},C=()=>{let{expenseStateList:e,setExpenseStateList:t}=(0,c.A)(),[s,r]=l.useState(""),[n,i]=l.useState(""),[C,I]=l.useState([]),[D,J]=l.useState({});l.useEffect(()=>{var s;(null==e?void 0:e.status)===u.JT.Success||(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.length)>0||(0,d.o)(o.Z9.GetExpenses(),t)},[]),l.useEffect(()=>{e.status===u.JT.Success&&e.data&&(I([...new Set(e.data.map(e=>e.createdBy))]),J(e.data.reduce((e,t)=>(e[t.createdBy]=t.createdByName,e),{})))},[e.data]);let E=l.useMemo(()=>e.status===u.JT.Success&&e.data?e.data.filter(e=>!s||e.createdBy===s).filter(e=>!n||("Credit"===n?e.amount>0:e.amount<0)):[],[e.data,s,n]),M=l.useMemo(()=>E.reduce((e,t)=>e+t.amount,0),[E]),N=async()=>{try{let t=[],s=Object.keys(e.data[0]);for(let a of(t.push(s.join(",")),e.data)){let e=s.map(e=>{let t=(""+a[e]).replace(/"/g,'\\"');return'"'.concat(t,'"')});t.push(e.join(","))}let a=t.join("\n"),r=document.createElement("a");r.href="data:text/csv;charset=utf-8,"+encodeURIComponent(a),r.download="expenses.csv",r.click()}catch(e){console.error("There was an error exporting the data",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.M,{notStartedMessage:"Loading..",successMessage:"",failureMessage:"Something went wrong.",currentStatus:e.status}),(0,a.jsxs)(m.A,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,a.jsx)(x.A,{id:"name-label",children:"Filter Name"}),(0,a.jsxs)(p.A,{labelId:"name-label",id:"name",value:s,onChange:e=>{r(e.target.value)},label:"Filter Name",children:[(0,a.jsx)(S.A,{value:"",children:(0,a.jsx)("em",{children:"None"})}),C.map((e,t)=>(0,a.jsx)(S.A,{value:e,children:D[e]},t))]})]}),(0,a.jsxs)(m.A,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,a.jsx)(x.A,{id:"type-label",children:"Filter Type"}),(0,a.jsxs)(p.A,{labelId:"type-label",id:"type",value:n,onChange:e=>{i(e.target.value)},label:"Filter Type",children:[(0,a.jsx)(S.A,{value:"",children:(0,a.jsx)("em",{children:"None"})}),(0,a.jsx)(S.A,{value:"Credit",children:"Credit"}),(0,a.jsx)(S.A,{value:"Debit",children:"Debit"})]})]}),(0,a.jsx)("div",{style:{verticalAlign:"baseline",float:"right",paddingTop:"16px"},children:(0,a.jsx)(g.A,{color:"primary",size:"large",onClick:N,children:(0,a.jsx)(w.A,{})})}),(0,a.jsx)(j.A,{component:v.A,children:(0,a.jsxs)(f.A,{sx:{minWidth:300},children:[(0,a.jsx)(b.A,{children:(0,a.jsxs)(y.A,{children:[(0,a.jsxs)(A.A,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("b",{children:"Particular"})}),(0,a.jsxs)("div",{style:T,children:[E.length," transactions"]})]}),(0,a.jsxs)(A.A,{align:"right",children:[(0,a.jsx)("div",{children:(0,a.jsx)("b",{children:"Amount (â‚¹)"})}),(0,a.jsx)("div",{children:M})]})]})}),(0,a.jsx)(P.A,{children:E.map(e=>(0,a.jsxs)(y.A,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsxs)(A.A,{component:"th",scope:"row",children:[(0,a.jsx)("div",{children:e.title}),(0,a.jsxs)("div",{style:T,children:[(0,L.zu)(e.dateTime)," | ",e.createdByName]})]}),(0,a.jsx)(A.A,{align:"right",children:e.amount})]},e.id))})]})})]})},I=()=>(0,a.jsxs)(r.F,{children:[(0,a.jsx)(i.Y,{tabs:n.$q}),(0,a.jsx)(C,{})]})},24309:(e,t,s)=>{"use strict";s.d(t,{a:()=>L});var a=s(95155),r=s(12115),n=s(10979),i=s(9561),l=s(70152),c=s(26603),u=s(1396),o=s(44522),d=s(96854),h=s(59620),m=s(87550),x=s(36645),p=s(92437),S=s(76046),g=s(57061),j=s(73365),v=s(39161),f=s(23686),b=s(79845),y=s(5565);let A={alignSelf:"center"},P={minHeight:"50px"},L=e=>{let{setAuthData:t}=(0,r.useContext)(v.c),[s,L]=(0,r.useState)(""),[w,T]=(0,r.useState)(""),[C,I]=(0,r.useState)(!1),[D,J]=(0,r.useState)(!1),[E,M]=(0,r.useState)(""),[N,k]=(0,r.useState)(""),[B,F]=(0,r.useState)(!1),[O,z]=(0,r.useState)(!1),[R,U]=(0,r.useState)(!1),_=e.pathname||f.ts.Root,q=(0,S.useRouter)(),W=()=>{J(!1),I(!1)},Y=()=>{W(),U(!0),b.p$.CreateToken({email:s,otp:w}).then(e=>{let s=e.data,a={name:s.result.name,email:s.result.resource};(0,j.uj)(s.result),t(a),U(!1),I(!0),M("Login successful."),s.result.roles.includes(g.YK.InvitedUser)?q.push("/profile"):q.push(_)}).catch(e=>{U(!1),J(!0),403===e.response.status?k("Access denied. Please contact support."):400===e.response.status?k("Invalid email or otp."):404===e.response.status?k("User not found. Please Register first."):k("An unexpected error occurred. Please try again.")})};return(0,a.jsxs)(n.A,{direction:"column",alignItems:"center",justifyContent:"center",height:"80vh",children:[(0,a.jsx)(h._,{children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),Y()},children:(0,a.jsxs)(n.A,{direction:"column",alignContent:"center",justifyContent:"center",spacing:2,margin:2,children:[(0,a.jsx)(y.default,{src:p.v.logo,alt:"Logo",width:100,height:100,style:A}),(0,a.jsx)(i.A,{variant:"h6",style:A,children:"Login to Portal"}),(0,a.jsx)(l.A,{id:"user-email",label:"Email",variant:"outlined",value:s,required:!0,onChange:e=>{W(),L(e.target.value),g.Dr.IsEmail(e.target.value)?F(!0):(F(!1),z(!1))},error:null!==s&&""!==s&&!g.Dr.IsEmail(s)}),(0,a.jsx)(l.A,{id:"otp",label:"OTP",variant:"outlined",value:w,required:!0,onChange:e=>{W(),T(e.target.value),6===e.target.value.length?z(!0):z(!1)},error:null!==w&&""!==w&&6!==w.length&&!g.Dr.IsNumber(w)}),(0,a.jsxs)(n.A,{direction:"row",justifyContent:"center",spacing:2,children:[(0,a.jsx)(c.A,{variant:"outlined",endIcon:(0,a.jsx)(x.A,{}),disabled:!B,onClick:()=>{W(),U(!0),b.p$.CreateOtp({email:s}).then(()=>{U(!1),I(!0),M("OTP sent successfully.")}).catch(e=>{U(!1),J(!0),400===e.response.status?k("Invalid email."):403===e.response.status?k("Access denied. Please contact support."):404===e.response.status?k("User not found. Please Register first."):k("An unexpected error occurred. Please try again.")})},children:"Get OTP"}),(0,a.jsx)(c.A,{type:"submit",variant:"contained",endIcon:(0,a.jsx)(m.A,{}),disabled:!O,children:"Login"})]})]})})}),(0,a.jsxs)("div",{style:P,children:[D&&(0,a.jsx)(u.A,{severity:"error",children:N}),C&&(0,a.jsx)(u.A,{severity:"success",children:E}),!D&&!C&&(0,a.jsx)(u.A,{severity:"info",children:"Enter your credential to login."})]}),(0,a.jsx)(o.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:R,onClick:()=>{U(!1)},children:(0,a.jsx)(d.A,{color:"inherit"})})]})}},2014:(e,t,s)=>{"use strict";s.d(t,{Y:()=>u});var a=s(95155),r=s(12115),n=s(68998),i=s(88648),l=s(79987),c=s(76046);let u=e=>{let{tabs:t}=e,[s,u]=r.useState(0),o=(0,c.useRouter)(),d=(0,c.usePathname)();r.useEffect(()=>{u(t.findIndex(e=>e.path===d))},[d]);let h=r.useCallback((e,s)=>{u(s),o.push(t[s].path.split("?")[0].split("#")[0])},[]),m=r.useMemo(()=>t.map((e,t)=>(0,a.jsx)(l.A,{label:e.label},t)),[t]);return(0,a.jsx)(n.A,{sx:{width:"100%",borderBottom:1,borderColor:"divider",marginBottom:1},children:(0,a.jsx)(i.A,{value:s,onChange:h,centered:!0,children:m})})}},66437:(e,t,s)=>{"use strict";s.d(t,{F:()=>c});var a=s(95155),r=s(12115),n=s(76046),i=s(24309),l=s(42336);let c=e=>{let t=(0,l.A)(),[s,c]=r.useState(!1),u=(0,n.usePathname)();return(0,r.useEffect)(()=>{window.scrollTo(0,0),c(!0)},[u]),(0,a.jsx)(a.Fragment,{children:s&&(t?e.children:(0,a.jsx)(i.a,{pathname:u}))})}},18238:(e,t,s)=>{"use strict";s.d(t,{M:()=>u});var a=s(95155),r=s(57061),n=s(1396),i=s(44522),l=s(96854);let c={marginTop:"1rem"},u=e=>{var t,s,u;switch(e.currentStatus){case r.JT.NotStarted:return e.notStartedMessage?(0,a.jsx)(n.A,{style:null!==(t=e.style)&&void 0!==t?t:c,severity:"info",children:e.notStartedMessage}):null;case r.JT.Success:return e.successMessage?(0,a.jsx)(n.A,{style:null!==(s=e.style)&&void 0!==s?s:c,severity:"success",children:e.successMessage}):null;case r.JT.Failure:return e.failureMessage?(0,a.jsx)(n.A,{style:null!==(u=e.style)&&void 0!==u?u:c,severity:"error",children:e.failureMessage}):null;case r.JT.InProgress:return(0,a.jsx)(i.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:e.currentStatus===r.JT.InProgress,children:(0,a.jsx)(l.A,{color:"inherit"})});default:return null}}},27312:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,z:()=>c});var a=s(99827),r=s(57061);let n=e=>({data:e,status:r.JT.NotStarted,timestamp:new Date}),i=e=>({data:e,page:0,isLastPage:!1,status:r.JT.NotStarted,timestamp:new Date}),l=(0,a.v)()(e=>({otpSecretState:n(""),publicPostListState:i([]),privatePostListState:i([]),profileState:n({}),publicProfileState:n({}),nearbyProfileListState:n([]),businessState:n({}),businessStateList:n([]),nearbyBusinessListState:n([]),nearbyDoctorsListState:n([]),expenseStateList:n([]),setOtpSecretState:t=>e(()=>({otpSecretState:t})),setPublicPostListState:t=>e(()=>({publicPostListState:t})),setPrivatePostListState:t=>e(()=>({privatePostListState:t})),setProfileState:t=>e(()=>({profileState:t})),setPublicProfileState:t=>e(()=>({publicProfileState:t})),setNearbyProfileListState:t=>e(()=>({nearbyProfileListState:t})),setBusinessState:t=>e(()=>({businessState:t})),setBusinessStateList:t=>e(()=>({businessStateList:t})),setNearbyBusinessListState:t=>e(()=>({nearbyBusinessListState:t})),setNearbyDoctorsListState:t=>e(()=>({nearbyDoctorsListState:t})),setExpenseStateList:t=>e(()=>({expenseStateList:t}))})),c=()=>{l.setState(()=>({otpSecretState:n(""),publicPostListState:i([]),privatePostListState:i([]),profileState:n({}),publicProfileState:n({}),nearbyProfileListState:n([]),businessState:n({}),businessStateList:n([]),nearbyBusinessListState:n([]),nearbyDoctorsListState:n([]),expenseStateList:n([])}))},u=l},42336:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,h:()=>c});var a=s(95155),r=s(12115),n=s(39161),i=s(4753),l=s(73365);let c=e=>{let{children:t}=e,[s,c]=(0,r.useState)({}),[u,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o((0,l.AJ)())},[]),(0,r.useEffect)(()=>{(0,i.Jv)(s)||o(!0)},[s]),(0,r.useEffect)(()=>{u||c({})},[u]);let d=(0,r.useMemo)(()=>({isAuthenticated:u,setIsAuthenticated:o,authData:s,setAuthData:c}),[u,o,s,c]);return(0,a.jsx)(n.c.Provider,{value:d,children:t})},u=()=>{let{isAuthenticated:e}=(0,r.useContext)(n.c);return e}},4753:(e,t,s)=>{"use strict";s.d(t,{Jv:()=>a,Ok:()=>c,SP:()=>l,eR:()=>r,rU:()=>i,zu:()=>n});let a=e=>"object"!=typeof e||null===e||!(Object.keys(e).length>0),r=e=>{let t=new Date(e),s=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t),a=s.indexOf(",")+2;return"".concat(s.substring(0,a)," ").concat(s.substring(a).toLowerCase())},n=e=>r(new Date(1e3*e).toISOString()),i=e=>Math.floor(e.getTime()/1e3),l=e=>i(new Date(e)),c=e=>{let t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).format(e),s=t.indexOf(",")+2;return"".concat(t.substring(0,s)," ").concat(t.substring(s).toLowerCase())}},78750:(e,t,s)=>{"use strict";s.d(t,{m:()=>n,o:()=>r});var a=s(57061);let r=async(e,t)=>{t({data:{},status:a.JT.InProgress,timestamp:new Date});try{let s=(await e).data;t({data:s.result,status:a.JT.Success,timestamp:new Date})}catch(e){t({data:{},status:a.JT.Failure,timestamp:new Date})}},n=async(e,t)=>{t({data:{},status:a.JT.InProgress,timestamp:new Date});try{let s=(await e).data;t({data:s.result,status:a.JT.Success,timestamp:new Date})}catch(e){t({data:{},status:a.JT.Failure,timestamp:new Date})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[4758,9427,6544,6402,2627,6165,1415,5937,8441,1517,7358],()=>t(85560)),_N_E=e.O()}]);